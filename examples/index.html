<!--
  Copyright 2018 The Distill Template Authors

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!doctype html>

<head>
  <script src="template.v2.js"></script>

  <!-- Load d3.js -->
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_SVG">
</script>
<script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf8">

  <style>
    .grid-container {
      display: grid;
      grid-template-columns: auto auto auto;
      /* background-color: #2196F3; */
      padding: 10px;
      margin: 0px;
    }
    .grid-item {
      background-color: rgba(255, 255, 255, 0.8);
      /* padding: 20px; */
      /* font-size: 30px; */
      text-align: center;
    }
    </style>
</head>

<body>
  <!-- <distill-header></distill-header> -->
  <d-front-matter>
    <script id='distill-front-matter' type="text/json">{
    "title": "Coordinate direction angles and a dot product application",
    "description": "Although \" extremely useful for visualizing high-dimensional data, t-SNE plots can sometimes be mysterious or misleading.",
    "published": "October 15, 2021",
    "authors": [
      {
        "author":"Shane Josias",
        "authorURL":"https://appliedmaths.sun.ac.za/~josias",
        "affiliations": [{"name": "Stellenbosch University"}]
      }
    ],
    "katex": {
      "delimiters": [
        {"left": "$$", "right": "$$", "display": false}
      ]
    }
  }</script>
  </d-front-matter>
  <d-title>
    <!-- <figure style="grid-column: page; margin: 1rem 0;"><img src="momentum.png"
        style="width:100%; border: 1px solid rgba(0, 0, 0, 0.2);" /></figure> -->
    <p>This interactice article allows the reader to interactively manipulate components of a vector and observe the changes in the cordinate direction angles. 
      It is my hope that it may provide a better intuition about the coordinate direction angles.</p>
  </d-title>
  <d-byline></d-byline>

  <d-article>
    <!-- <a class="marker" href="#section-1" id="section-1"><span>1</span></a> -->
    <h3>Cartesian vectors recap</h2>
    <p>
      A vector $$\mathbf{A}$$ can be represented in cartesian form as:
      <d-math block>
         
        \mathbf{A} = A_{x}\mathbf{i} + A_{y}\mathbf{j} + A_{z}\mathbf{k},
      </d-math>

      where $$A_x$$, $$A_y$$, and $$A_z$$ are the $$x$$, $$y$$, and $$z$$ components of the vector. We can also calculate a vector's magnitude $$A$$, using the following equation
     

      <d-math block>
        A = \sqrt{A_{x}^2 + A_{y}^2 + A_{z}^2}.
      </d-math>
    
    </p>

    <h3>Coordinate direction angles</h2>
    <p>
     The direction of $$\mathbf{A}$$ can be defined by using what is known as the coordinate direction angles $$\alpha$$, $$\beta$$, $$\gamma$$, 
     measured betwen the tail of $$\mathbf{A}$$ and the positive $$x$$, $$y$$, $$z$$ axes. Figure 2-26 in the textbook ilustrates this idea.

     To calculate the coordinate direction angles, we use the directional cosines. 
     <d-math block>
      \cos(\alpha) = \frac{A_x}{A}, \:\: \cos(\beta) = \frac{A_y}{A}, \:\: \cos(\gamma) = \frac{A_z}{A}. 
    </d-math>
    We can then take the inverse cosines to determine the angle. 

    Let us know try and build an intuition about these coordinate direction angles, and how it relates to the components of a vector. The interactive 
    diagram below plots a vector $$F$$, and the planes in which the coordinate directions live. In the legend you will see the current vector, along with 
    values for each coordinate direction angle. Try adjusting the components of the vector by moving the sliders and observe how the coordinate direction angles change in response.
    You can also pan the diagram to visualise the planes from different perspectives. Here are some questions to try and answer. <br><br>

    When is $$ 90 < \alpha < 180$$? What about $$\alpha=0, 90, 180$$? Do the same for $$\beta$$ and $$\gamma$$.

    </p>
    <!-- <aside>Some text in an aside, margin notes, etc...</aside> -->

    <div class="grid-container">
      <p class = "grid-item"> adjust value $$x$$</p>
      <p class = "grid-item"> adjust value $$y$$</p>
      <p class = "grid-item"> adjust value $$z$$</p>

      <form class = "grid-item" oninput="amount.value=rangeInput.value">
          <input type="range" id="rangeInput" name="rangeInput" min="-10" max="10" value="3"oninput="adjustValueX(this.value)">
          <output name="amount" for="rangeInput"></output>
      </form>
      <form class = "grid-item" oninput="amount.value=rangeInput.value">
          <input type="range" id="rangeInput" name="rangeInput" min="-10" max="10" value="4" oninput="adjustValueY(this.value)">
          <output name="amount" for="rangeInput"></output>
      </form>
      <form class = "grid-item" oninput="amount.value=rangeInput.value">
          <input type="range" id="rangeInput" name="rangeInput" min="-10" max="10" value="7" oninput="adjustValueZ(this.value)">
          <output name="amount" for="rangeInput"></output>
      </form>
  </div>

   

   
    <div class='.l-screen' id='myDiv'  style='border-style: solid;'><!-- Plotly chart will be drawn inside this DIV --></div>
    <script>

        var defaultVector = [3,4,7]
      
        var data=[
          {
            opacity:1,
            showlegend: true,
            name: "$\\mathbf{F} = ?$",
            type: 'scatter3d',
            mode: 'markers+text',
            x: [3],
            y: [4],
            z: [7],
            marker: {
              size: 4,
              symbol: "circle",
              color: "rgb(255,0,0)"
            },
            text: "F",
            },
            {
              opacity:1,
              showlegend: false,
              type: 'scatter3d',
              mode: 'lines',
              x: [0,3],
              y: [0,4],
              z: [0,7],
              line: {
                width: 4,
                color:"rgb(0,0,0)",
              },
            },
            {
              type: "mesh3d",
              opacity: 0.2,
              x: [0, 3, 3, 0],
              y: [0, 0, 4, 0],
              z: [0, 0, 7, 0],
              i: [0, 0, 0, 1],
              j: [1, 2, 3, 2],
              k: [2, 3, 1, 3],
              name: "$\\alpha = ?$",
              showlegend: true
            },
            {
              type: "mesh3d",
              opacity: 0.2,
              x: [0, 0, 3, 0],
              y: [0, 4, 4, 0],
              z: [0, 0, 7, 0],
              i: [0, 0, 0, 1],
              j: [1, 2, 3, 2],
              k: [2, 3, 1, 3],
              name: "$\\beta = ?$",
              showlegend: true
            },
            {
              type: "mesh3d",
              opacity: 0.2,
              x: [0, 0, 3, 0],
              y: [0, 0, 4, 0],
              z: [0, 7, 7, 0],
              i: [0, 0, 0, 1],
              j: [1, 2, 3, 2],
              k: [2, 3, 1, 3],
              name: "$\\gamma = ?$",
              showlegend: true,
            },
            {
            opacity: 1,
            showlegend: false,
            type: 'scatter3d',
            x: [0,10],
            y: [0,0],
            z: [0,0],
            mode: 'lines+text',
            line: {
              width: 4,
              color:'rgb(0,0,0)',       
            },
            text: ["","x"]
            },
            {
            opacity: 1,
            showlegend: false,
            type: 'scatter3d',
            x: [-10,0],
            y: [0,0],
            z: [0,0],
            mode: 'lines',
            line: {
              width: 4,
              color:'rgb(0,0,0)',
              dash: 'longdash'       
              },
            },
            {
            opacity: 1,
            showlegend: false,
            type: 'scatter3d',
            x: [0,0],
            y: [0,10],
            z: [0,0],
            mode: 'lines+text',
            line: {
              width: 4,
              color:'rgb(0,0,0)',
            },
            text: ["", "y"],
            },
            {
            opacity: 1,
            showlegend: false,
            type: 'scatter3d',
            x: [0,0],
            y: [-10,0],
            z: [0,0],
            mode: 'lines',
            line: {
              width: 4,
              color:'rgb(0,0,0)',
              dash: 'longdash'       
              },
            },
            {
            opacity: 1,
            showlegend: false,
            type: 'scatter3d',
            x: [0,0],
            y: [0,0],
            z: [0,10],
            mode: 'lines+text',
            line: {
              width: 4,
              color:'rgb(0,0,0)',
            },
            text: ["",'z'],
            textposition:'left'
            },
            {
            opacity: 1,
            showlegend: false,
            type: 'scatter3d',
            x: [0,0],
            y: [0,0],
            z: [-10,0],
            mode: 'lines',
            line: {
              width: 4,
              color:'rgb(0,0,0)',
              dash: 'longdash'       
              },
            },

        ];
        var layout = {
          margin: {
            t:0,
            b:0,
            l:0,
            r:0
          },
          showlegend: true,
          scene:{
          camera: {
            center: {
                  x: 0, y: 0, z: 0 }, 
            eye: { 
                  x: 0.8, y: 0.8, z: 0.8 }, 
            up: {
                  x: 0, y: 0, z: 1 }
          },
          aspectmode: "manual",
          aspectratio: {
            x: 1, y: 1, z: 1,
            },
          xaxis: {
            nticks: 0,
            range: [-10, 10],
            showgrid: false,
            showlines: false,
            showticklabels: false,
            zeroline: false,
            title:''
          },
          yaxis: {
            nticks: 0,
            range: [-10, 10],
            showgrid: false,
            showlines: false,
            showticklabels: false,
            zeroline: false,
            title:''
          },
          zaxis: {
          range: [-10, 10],
          showgrid: false,
          showlines: false,
          showticklabels: false,
          zeroline: false,
          title:''
          }},
        };

        var config = {responsive: true, displayModeBar: false}

        Plotly.newPlot('myDiv', data, layout, config);

        function getMagnitude(vector) {
          // console.log(Math.pow(vector[0], 2))
          // console.log(Math.pow(vector[2], 2))
          // console.log(Math.pow(vector[3], 2))
          // console.log(vector[3])
          return Math.sqrt(Math.pow(vector[0], 2) + Math.pow(vector[1], 2) + Math.pow(vector[2], 2))
        }

        function getCoordDirAngle(component, magnitude) {
          return Math.round(Math.acos(component / magnitude)*180/Math.PI)
        }
  
        function updateLegend(vector) {
            mag = getMagnitude(vector)
            alpha = getCoordDirAngle(vector[0], mag)
            beta = getCoordDirAngle(vector[1], mag)
            gamma = getCoordDirAngle(vector[2], mag)

            var updateLegend = {
              name : [
                "$\\mathbf{F} = " + vector[0] + "\\mathbf{i} + " + vector[1] + "\\mathbf{j} + " + vector [2] + "\\mathbf{k}$",
                "$\\alpha = " + alpha + "$",
                "$\\beta = " + beta + "$",
                "$\\gamma = " + gamma + "$", 
              ]
            }

            Plotly.restyle('myDiv', updateLegend, [0, 2, 3, 4]);

        }
        function adjustValueZ(value)
        {
            defaultVector = [defaultVector[0], defaultVector[1], parseInt(value)]
           
            var update = {
              z : [
                [value], 
                [0, value], 
                [0,4, value, 0],
                [0,0, value, 0],
                [0,0, value, 0]
              ],
            }

            updateLegend(defaultVector)

            Plotly.restyle('myDiv', update, [0, 1, 4, 3, 2]);

        }
        function adjustValueY(value)
        {
          defaultVector = [defaultVector[0], parseInt(value), defaultVector[2]]
          
          var update = {
              y : [
                [value], 
                [0, value], 
                [0,0, value, 0],
                [0,4, value, 0],
                [0,0, value, 0],
              ],
            }

            updateLegend(defaultVector)
            Plotly.restyle('myDiv', update, [0, 1, 4, 3, 2]);

        }
        function adjustValueX(value)
        {
          defaultVector = [parseInt(value), defaultVector[1], defaultVector[2]]
    
          var update = {
              x : [
                [value], 
                [0, value], 
                [0,0, value, 0],
                [0,0, value, 0],
                [0,4, value, 0],
              ],
            }

            updateLegend(defaultVector)
            Plotly.restyle('myDiv', update, [0, 1, 4, 3, 2]);
        }
    </script>
    
  

  </d-article>

  <d-appendix>

    <h3>Contributions</h3>
    <p>The article was created in full by Shane Josias. </p>
    <!-- <h3>Reviewers</h3> -->
    <!-- <p>Some text with links describing who reviewed the article.</p> -->

    <!-- <d-bibliography src="bibliography.bib"></d-bibliography> -->
  </d-appendix>

  <!-- <distill-footer></distill-footer> -->

</body>